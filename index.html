<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Contratos Empresariales</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="logo">
                <h1>SIGESCON</h1>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="#" onclick="showSection('resumen-general')"><i class="material-icons">dashboard</i> Resumen General</a></li>
                    <li><a href="#" onclick="showSection('nuevo-editar-contrato')" class="active"><i class="material-icons">add_box</i> Nuevo/Editar Contrato</a></li>
                    <li><a href="#" onclick="showSection('lista-contratos')"><i class="material-icons">list</i> Lista de Contratos</a></li>
                    <li><a href="#" onclick="showSection('gestion-hes')"><i class="material-icons">assignment</i> Gestión de HES</a></li>
                    <li><a href="#" onclick="showSection('avance-fisico')"><i class="material-icons">trending_up</i> Avance Físico</a></li>
                    <li><a href="#" onclick="showSection('avance-financiero')"><i class="material-icons">attach_money</i> Avance Financiero</a></li>
                    <li><a href="#" onclick="showSection('resumen-grafico')"><i class="material-icons">bar_chart</i> Resumen Gráfico</a></li>
                    <li><a href="#" onclick="showSection('informes')"><i class="material-icons">description</i> Informes</a></li>
                    <li><a href="#" onclick="showSection('papelera')"><i class="material-icons">delete</i> Papelera</a></li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <header class="header">
                <h2>Gestión de Contratos Empresariales</h2>
                <button class="help-button" onclick="showHelpModal()">Ayuda</button>
            </header>

            <section id="resumen-general" class="content-section hidden">
                <div class="summary-cards">
                    <div class="card">
                        <h3>Contratos Activos</h3>
                        <p>0</p>
                    </div>
                    <div class="card">
                        <h3>Monto Total Contratado</h3>
                        <p>USD 0.00</p>
                    </div>
                    <div class="card">
                        <h3>Contratos por Vencer (30 días)</h3>
                        <p>0</p>
                    </div>
                    <div class="card">
                        <h3>Total Modalidades</h3>
                        <p>0</p>
                    </div>
                </div>
            </section>

            <section id="nuevo-editar-contrato" class="content-section">
                <div class="form-container">
                    <h3>Nuevo/Editar Contrato</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="numProveedor">Número de Proveedor:</label>
                            <input type="text" id="numProveedor" value="123">
                        </div>
                        <div class="form-group">
                            <label for="fechaFirma">Fecha Firma del Contrato:</label>
                            <input type="date" id="fechaFirma" value="2025-05-09">
                        </div>
                        <div class="form-group">
                            <label for="fechaCreado">Fecha Creado:</label>
                            <input type="date" id="fechaCreado" value="2025-05-10">
                        </div>
                        <div class="form-group">
                            <label for="fechaInicio">Fecha Inicio:</label>
                            <input type="date" id="fechaInicio" value="2025-05-11">
                        </div>
                        <div class="form-group">
                            <label for="fechaTerminacion">Fecha Terminación:</label>
                            <input type="date" id="fechaTerminacion" value="2025-06-01">
                        </div>
                        <div class="form-group">
                            <label for="periodoCulminacion">Periodo de Culminación (Días):</label>
                            <input type="number" id="periodoCulminacion" value="22">
                        </div>
                        <div class="form-group">
                            <label for="numContratoSICAC">N° Contrato SICAC:</label>
                            <input type="text" id="numContratoSICAC" value="sicac-33">
                        </div>
                        <div class="form-group">
                            <label for="divisionArea">División Área:</label>
                            <input type="text" id="divisionArea" value="3">
                        </div>
                        <div class="form-group">
                            <label for="eemm">EEMM:</label>
                            <input type="text" id="eemm" value="2">
                        </div>
                        <div class="form-group">
                            <label for="region">Región:</label>
                            <input type="text" id="region" value="1">
                        </div>
                        <div class="form-group">
                            <label for="naturalezaContratacion">Naturaleza de la Contratación:</label>
                            <input type="text" id="naturalezaContratacion" value="1">
                        </div>
                        <div class="form-group">
                            <label for="lineaServicio">Línea de Servicio:</label>
                            <input type="text" id="lineaServicio" value="1">
                        </div>
                        <div class="form-group">
                            <label for="numPeticionOferta">No. Petición de Oferta:</label>
                            <input type="text" id="numPeticionOferta">
                        </div>
                        <div class="form-group">
                            <label for="modalidadContratacion">Modalidad de Contratación:</label>
                            <div class="input-with-buttons">
                                <select id="modalidadContratacion">
                                    <option value="">Selecciona una modalidad</option>
                                    <option value="prueba">prueba</option>
                                    <option value="obra">obra</option>
                                    <option value="servicio">servicio</option>
                                </select>
                                <button class="add-button" onclick="addModalidad()"><i class="material-icons">add</i></button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="regimenLaboral">Régimen Laboral:</label>
                            <input type="text" id="regimenLaboral" value="manual">
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label for="descripcionContrato">Objeto Contractual / Descripción:</label>
                        <textarea id="descripcionContrato">desmalezamiento</textarea>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fechaCambioAlcance">Fecha Cambio Alcance:</label>
                            <input type="date" id="fechaCambioAlcance" value="2025-06-06">
                        </div>
                        <div class="form-group">
                            <label for="montoOriginal">Monto Original:</label>
                            <input type="number" id="montoOriginal" value="800000.00" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="montoModificado">Monto Modificado:</label>
                            <input type="number" id="montoModificado" value="0.00" step="0.01">
                        </div>
                        <div class="form-group">
                            <label for="montoTotalContrato">Monto Total del Contrato:</label>
                            <input type="number" id="montoTotalContrato" value="800000.00" step="0.01" readonly>
                        </div>
                        <div class="form-group">
                            <label for="numContratoInterno">No Contrato (Interno):</label>
                            <input type="text" id="numContratoInterno" value="12">
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label for="observaciones">Observaciones:</label>
                        <textarea id="observaciones"></textarea>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="estatus">Estatus:</label>
                            <select id="estatus">
                                <option value="activo">Activo</option>
                                <option value="inactivo">Inactivo</option>
                                <option value="finalizado">Finalizado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="moneda">Moneda:</label>
                            <select id="moneda">
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="VES">VES</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="adjuntarArchivos">Adjuntar Archivos:</label>
                            <input type="file" id="adjuntarArchivos" multiple>
                            <span>Ningún archivo seleccionado</span>
                        </div>
                    </div>

                    <h4>Partidas del Contrato</h4>
                    <button class="add-partida-button" onclick="addPartida()">+ Añadir Partida</button>
                    <div class="table-responsive">
                        <table class="contract-parts-table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Descripción</th>
                                    <th>Cantidad</th>
                                    <th>UMD</th>
                                    <th>Precio Unitario</th>
                                    <th>Total</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="partidasTableBody">
                                <tr>
                                    <td>1</td>
                                    <td><input type="text" value="Limpieza" class="description-input"></td>
                                    <td><input type="number" value="1" min="0" class="quantity-input" oninput="calculateTotal(this)"></td>
                                    <td><input type="text" value="unidad" class="umd-input"></td>
                                    <td><input type="number" value="400.00" min="0" step="0.01" class="unit-price-input" oninput="calculateTotal(this)"></td>
                                    <td><input type="number" value="400.00" class="total-input" readonly></td>
                                    <td><button class="delete-button" onclick="deletePartida(this)"><i class="material-icons">delete</i></button></td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td><input type="text" value="Mantenimiento" class="description-input"></td>
                                    <td><input type="number" value="20" min="0" class="quantity-input" oninput="calculateTotal(this)"></td>
                                    <td><input type="text" value="horas" class="umd-input"></td>
                                    <td><input type="number" value="4000.00" min="0" step="0.01" class="unit-price-input" oninput="calculateTotal(this)"></td>
                                    <td><input type="number" value="80000.00" class="total-input" readonly></td>
                                    <td><button class="delete-button" onclick="deletePartida(this)"><i class="material-icons">delete</i></button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="form-actions">
                        <button class="save-button" id="guardarActualizarContrato">Guardar/Actualizar Contrato</button>
                        <button class="clear-button" id="limpiarFormulario">Limpiar Formulario</button>
                    </div>
                </div>
            </section>

            <section id="lista-contratos" class="content-section hidden">
                <div class="filter-container">
                    <div class="form-group">
                        <label for="filterNumProveedor">N° Proveedor:</label>
                        <input type="text" id="filterNumProveedor" placeholder="Filtrar por N° Proveedor">
                    </div>
                    <div class="form-group">
                        <label for="filterNumSICAC">N° SICAC:</label>
                        <input type="text" id="filterNumSICAC" placeholder="Filtrar por N° SICAC">
                    </div>
                    <div class="form-group">
                        <label for="filterFechaInicio">Fecha Inicio:</label>
                        <input type="date" id="filterFechaInicio">
                    </div>
                    <div class="form-group">
                        <label for="filterFechaFinal">Fecha Final:</label>
                        <input type="date" id="filterFechaFinal">
                    </div>
                    <div class="form-group">
                        <label for="filterModalidad">Modalidad:</label>
                        <select id="filterModalidad">
                            <option value="Todas">Todas</option>
                            <option value="prueba">prueba</option>
                            <option value="obra">obra</option>
                            <option value="servicio">servicio</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="filterEstado">Estado:</label>
                        <select id="filterEstado">
                            <option value="Todas">Todas</option>
                            <option value="Activo">Activo</option>
                            <option value="Inactivo">Inactivo</option>
                            <option value="Finalizado">Finalizado</option>
                        </select>
                    </div>
                    <div class="filter-buttons">
                        <button class="apply-filters-button"><i class="material-icons">filter_list</i> Aplicar Filtros</button>
                        <button class="clear-filters-button"><i class="material-icons">clear</i> Limpiar Filtros</button>
                    </div>
                </div>

                <div class="export-buttons">
                    <button class="export-excel-button"><i class="material-icons">grid_on</i> Exportar a Excel</button>
                    <button class="export-pdf-button"><i class="material-icons">picture_as_pdf</i> Exportar a PDF</button>
                </div>

                <div class="table-responsive">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>N° PROVEEDOR</th>
                                <th>N° SICAC</th>
                                <th>FECHA INICIO</th>
                                <th>FECHA FIN</th>
                                <th>MONTO TOTAL</th>
                                <th>ESTATUS</th>
                                <th>MODALIDAD</th>
                                <th>OBJETO CONTRACTUAL</th>
                                <th>ACCIONES</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>12</td>
                                <td>contratos (1)</td>
                                <td>2025-05-11</td>
                                <td>2025-06-01</td>
                                <td>800000.00</td>
                                <td>Activo</td>
                                <td>prueba</td>
                                <td>desmalezamiento</td>
                                <td>
                                    <button class="action-button view-button" onclick="showContractDetails(this)"><i class="material-icons">visibility</i></button>
                                    <button class="action-button edit-button"><i class="material-icons">edit</i></button>
                                    <button class="action-button delete-button"><i class="material-icons">delete</i></button>
                                </td>
                            </tr>
                            </tbody>
                    </table>
                </div>
            </section>

            <section id="gestion-hes" class="content-section hidden">
                <h3>Gestión de HES</h3>
                <p>Contenido para la gestión de HES.</p>
            </section>

            <section id="avance-fisico" class="content-section hidden">
                <h3>Avance Físico</h3>
                <div class="form-container">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="avanceFisicoNumProveedor">Número de Proveedor:</label>
                            <input type="text" id="avanceFisicoNumProveedor" value="12">
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoFechaCreacion">Fecha de Creación:</label>
                            <input type="date" id="avanceFisicoFechaCreacion" value="2025-05-18">
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoFechaInicio">Fecha de Inicio:</label>
                            <input type="date" id="avanceFisicoFechaInicio" value="2025-05-11">
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoFechaFinal">Fecha Final:</label>
                            <input type="date" id="avanceFisicoFechaFinal" value="2025-06-01">
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoDuracionDias">Duración (días):</label>
                            <input type="text" id="avanceFisicoDuracionDias" value="12">
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoNumODS">Número de ODS:</label>
                            <input type="text" id="avanceFisicoNumODS">
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoNumContratoSICAC">Número Contrato SICAC:</label>
                            <input type="text" id="avanceFisicoNumContratoSICAC">
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoModalidad">Modalidad de Contratación:</label>
                            <div class="input-with-buttons">
                                <select id="avanceFisicoModalidad">
                                    <option value="">Selecciona una modalidad</option>
                                    <option value="Nueva modalidad">Nueva modalidad</option>
                                    <option value="obra">obra</option>
                                    <option value="servicio">servicio</option>
                                </select>
                                <button class="add-button" onclick="addModalidadAvanceFisico()"><i class="material-icons">add</i></button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group full-width">
                        <label for="avanceFisicoObjetoContractual">Objeto Contractual:</label>
                        <textarea id="avanceFisicoObjetoContractual"></textarea>
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="avanceFisicoMoneda">Moneda:</label>
                            <select id="avanceFisicoMoneda">
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="VES">VES</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="avanceFisicoMontoTotal">Monto Total del Contrato:</label>
                            <input type="number" id="avanceFisicoMontoTotal" value="0.00" step="0.01">
                        </div>
                    </div>
                    <button class="save-button" id="guardarAvance">Guardar Avance</button>
                </div>
                <div class="table-responsive" style="margin-top: 20px;">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Fecha</th>
                                <th>Porcentaje (%)</th>
                                <th>Comentarios</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            </tbody>
                    </table>
                </div>
            </section>

            <section id="avance-financiero" class="content-section hidden">
                <h3>Avance Financiero</h3>
                <p>Aquí se gestionará el avance financiero de los contratos.</p>
                </section>

            <section id="resumen-grafico" class="content-section hidden">
                <h3>Resumen Gráfico</h3>
                <p>Contenido para el resumen gráfico.</p>
            </section>

            <section id="informes" class="content-section hidden">
                <h3>Informes</h3>
                <p>Aquí se generarán informes detallados por contrato, incluyendo avance físico y financiero, etc.</p>
                </section>

            <section id="papelera" class="content-section hidden">
                <h3>Papelera</h3>
                <p>Contenido para la papelera (elementos eliminados).</p>
            </section>
        </main>
    </div>

    <div id="helpModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeHelpModal()">&times;</span>
            <h3>Documentación de Ayuda</h3>
            <p>Aquí puedes colocar toda la información de ayuda para el usuario.</p>
            <p>Por ejemplo:</p>
            <ul>
                <li><strong>Número de Proveedor:</strong> Identificador único del proveedor.</li>
                <li><strong>Fecha de Creación:</strong> Fecha en que se registra el contrato.</li>
                <li><strong>Fecha de Inicio y Fecha Final:</strong> Periodo de validez del contrato.</li>
                <li><strong>Duración (días):</strong> Calculado automáticamente, aunque a veces puedes modificarlo.</li>
                <li><strong>Número de Contrato SICAC:</strong> Referencia interna del contrato.</li>
                <li><strong>Modalidad de Contratación:</strong> Tipo de proceso de contratación.</li>
                <li><strong>Objeto Contractual:</strong> Descripción detallada de lo que abarca el contrato.</li>
                <li><strong>Partidas del Contrato:</strong> Desglose de los ítems y montos.</li>
                <li><strong>Guardar/Actualizar Contrato:</strong> Almacena o actualiza la información del contrato.</li>
                <li><strong>Pista de Contrato (Lista de Contratos):</strong> Tabla con todos los contratos registrados.</li>
                <li><strong>Avance Físico:</strong> Permite registrar el progreso de ejecución del contrato.</li>
            </ul>
            <p>Si necesitas más información, contacta con el soporte técnico.</p>
        </div>
    </div>

    <div id="contractDetailsModal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeContractDetailsModal()">&times;</span>
            <h3>Detalles del Contrato</h3>
            <div id="contractDetailsContent">
                </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>